# ReadLater for Obsidian - プロジェクトコンテキスト

## プロジェクト概要
- **プロジェクト名**: ReadLater for Obsidian
- **種別**: Chrome ブラウザ拡張機能
- **目的**: Web記事を効率的に保存し、Obsidianで後から読み返せる環境を構築
- **開発期間**: Phase 1 (MVP) - 4-6週間予定

## 現在のステータス
- **フェーズ**: Sprint 4 完了（ファイル保存/UI最適化）
- **進捗**: ネイティブメッセージングによるClaude CLI連携の導入開始
- **完了**:
  - Sprint 1: Chrome拡張機能基盤とコンテキストメニュー
  - Sprint 2: 記事抽出機能（DOM解析、コンテンツサニタイゼーション）
  - Sprint 3: AI連携の下地実装（以降ネイティブメッセージングへ移行）
- **次のアクション**: ネイティブホストのセットアップ手順の適用と動作確認

## 技術構成
- **プラットフォーム**: Chrome ブラウザ拡張機能 (Manifest V3)
- **フロントエンド**: HTML/CSS/JavaScript (Vanilla JS)
- **AI連携**: Claude CLI (翻訳・要約)
- **出力形式**: Markdown
- **対象ブラウザ**: Chrome 100+

## 主要機能 (MVP)
1. コンテキストメニュー機能 (右クリック→後で読む)
2. 記事情報自動取得機能 (タイトル、URL、本文)
4. AI要約機能 (Claude CLI使用)
5. ファイル保存機能 (Markdown形式でObsidianフォルダへ)
6. 集約保存機能 (複数記事を1つのファイルにまとめて保存)
7. ユーザー設定機能 (オプションページ)
8. 通知機能 (成功/エラー通知)

## 技術的課題
1. **Manifest V3対応**: Service Workerベースの実装 ✅
2. **DOM解析**: 多様なWebサイト構造への対応 ✅
3. **Claude CLI連携**: CLI呼び出しとエラーハンドリング ✅
4. **ファイル保存**: Downloads APIによるMarkdownファイル保存
5. **UI最適化**: ユーザビリティとエラーハンドリングの改善

## リスク要因
- **Claude CLI API**: 利用制限やレート制限
- **ファイル保存**: ブラウザのセキュリティ制限
- **記事抽出**: Webサイトの構造変化への対応
- **パフォーマンス**: 大きな記事の処理時間

## 品質基準
- **応答時間**: 記事取得から保存完了まで30秒以内
- **成功率**: 一般的なWebサイトで90%以上の記事抽出成功率
- **セキュリティ**: APIキーの暗号化保存
- **ユーザビリティ**: 直感的な操作とエラーメッセージ

## ドキュメント
- [ネイティブメッセージング設定](native-messaging.md) - Claude CLI連携の詳細設定
- [集約保存機能](aggregated-saving.md) - 複数記事をまとめて保存する機能の詳細

## 更新履歴
- 2024-01-XX: プロジェクト初期設定、要件分析完了
- 2024-01-XX: Sprint 1完了 - Chrome拡張機能基盤とコンテキストメニュー実装
- 2024-01-XX: Sprint 2完了 - 記事抽出機能の詳細実装（DOM解析、コンテンツサニタイゼーション）
- 2024-01-XX: Sprint 3完了 - Claude CLI連携（翻訳・要約機能、APIキー不要実装）
- 2024-01-XX: Sprint 4完了 - ファイル保存機能とUI最適化
- 2025-01-15: 集約保存機能完了 - 複数記事を1つのファイルにまとめて保存する機能を実装
