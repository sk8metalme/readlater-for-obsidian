<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReadLater for Obsidian - Claude API ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .input-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        button:hover {
            background: #5a67d8;
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .result.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .result.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .result.info {
            background: #cce7ff;
            color: #004085;
            border: 1px solid #b3d7ff;
        }
        
        .status {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .samples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .sample-card {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f9f9f9;
            cursor: pointer;
        }
        
        .sample-card:hover {
            background: #e9ecef;
        }
        
        .sample-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .sample-lang {
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ReadLater for Obsidian - Claude API ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ</h1>
        
        <!-- APIè¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="input-section">
            <h2>ğŸ”‘ APIè¨­å®š</h2>
            <div class="input-group">
                <label for="api-key">Claude API ã‚­ãƒ¼:</label>
                <input type="password" id="api-key" placeholder="sk-..." />
            </div>
            <button onclick="initializeAPI()">APIåˆæœŸåŒ–</button>
            <div id="api-status" class="status"></div>
        </div>
        
        <!-- ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹é¸æŠ -->
        <div class="input-section">
            <h2>ğŸ“„ ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹</h2>
            <div class="samples" id="samples">
                <!-- ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã¯JavaScriptã§å‹•çš„ç”Ÿæˆ -->
            </div>
        </div>
        
        <!-- æ‰‹å‹•å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="input-section">
            <h2>âœï¸ æ‰‹å‹•å…¥åŠ›</h2>
            <div class="input-group">
                <label for="input-title">è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«:</label>
                <input type="text" id="input-title" placeholder="è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›..." />
            </div>
            <div class="input-group">
                <label for="input-content">è¨˜äº‹å†…å®¹:</label>
                <textarea id="input-content" rows="6" placeholder="è¨˜äº‹ã®å†…å®¹ã‚’å…¥åŠ›..."></textarea>
            </div>
        </div>
        
        <!-- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="test-section">
            <h2>ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h2>
            <button onclick="testLanguageDetection()">è¨€èªæ¤œå‡ºãƒ†ã‚¹ãƒˆ</button>
            <button onclick="testTranslation()">ç¿»è¨³ãƒ†ã‚¹ãƒˆ</button>
            <button onclick="testSummarization()">è¦ç´„ãƒ†ã‚¹ãƒˆ</button>
            <button onclick="testFullWorkflow()">çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ</button>
            <button onclick="clearResults()">çµæœã‚¯ãƒªã‚¢</button>
            
            <div id="test-results"></div>
        </div>
    </div>

    <!-- Claude API ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿ -->
    <script src="../../src/lib/claude-api.js"></script>
    
    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let claudeAPI = null;
        let languageDetector = null;
        let translationService = null;
        let summaryService = null;
        
        // ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ãƒ‡ãƒ¼ã‚¿
        const sampleArticles = {
            english: {
                title: "The Future of Artificial Intelligence",
                content: `Artificial intelligence (AI) is rapidly transforming various sectors of our society. From healthcare to transportation, AI technologies are becoming increasingly sophisticated and widespread. Machine learning algorithms can now process vast amounts of data to identify patterns and make predictions with remarkable accuracy.

The development of large language models has particularly revolutionized natural language processing. These models can understand, generate, and translate text in multiple languages, opening up new possibilities for global communication and collaboration.

However, the rapid advancement of AI also raises important ethical and societal questions. Issues such as privacy, bias, and job displacement need to be carefully addressed as we move forward with AI integration.`,
                lang: "English"
            },
            
            japanese: {
                title: "äººå·¥çŸ¥èƒ½ã®æœªæ¥",
                content: `äººå·¥çŸ¥èƒ½ï¼ˆAIï¼‰ã¯ç§ãŸã¡ã®ç¤¾ä¼šã®æ§˜ã€…ãªåˆ†é‡ã‚’æ€¥é€Ÿã«å¤‰é©ã—ã¦ã„ã¾ã™ã€‚åŒ»ç™‚ã‹ã‚‰è¼¸é€ã¾ã§ã€AIæŠ€è¡“ã¯ã¾ã™ã¾ã™æ´—ç·´ã•ã‚Œã€åºƒç¯„å›²ã«æ™®åŠã—ã¦ã„ã¾ã™ã€‚æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€è†¨å¤§ãªé‡ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã—ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç‰¹å®šã—ã€é©šãã¹ãç²¾åº¦ã§äºˆæ¸¬ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ç‰¹ã«å¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ã®ç™ºå±•ã¯ã€è‡ªç„¶è¨€èªå‡¦ç†ã‚’é©å‘½çš„ã«å¤‰åŒ–ã•ã›ã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®ãƒ¢ãƒ‡ãƒ«ã¯è¤‡æ•°ã®è¨€èªã§ãƒ†ã‚­ã‚¹ãƒˆã‚’ç†è§£ã€ç”Ÿæˆã€ç¿»è¨³ã™ã‚‹ã“ã¨ãŒã§ãã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨å”åŠ›ã®æ–°ãŸãªå¯èƒ½æ€§ã‚’é–‹ã„ã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€AIã®æ€¥é€Ÿãªé€²æ­©ã¯é‡è¦ãªå€«ç†çš„ãƒ»ç¤¾ä¼šçš„å•é¡Œã‚‚æèµ·ã—ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã€åè¦‹ã€é›‡ç”¨ã®ç½®ãæ›ãˆãªã©ã®å•é¡Œã¯ã€AIçµ±åˆã‚’é€²ã‚ã‚‹éš›ã«æ…é‡ã«å¯¾å‡¦ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚`,
                lang: "æ—¥æœ¬èª"
            },
            
            chinese: {
                title: "äººå·¥æ™ºèƒ½çš„æœªæ¥",
                content: `äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ­£åœ¨å¿«é€Ÿæ”¹å˜æˆ‘ä»¬ç¤¾ä¼šçš„å„ä¸ªé¢†åŸŸã€‚ä»åŒ»ç–—ä¿å¥åˆ°äº¤é€šè¿è¾“ï¼Œäººå·¥æ™ºèƒ½æŠ€æœ¯æ­£å˜å¾—è¶Šæ¥è¶Šå¤æ‚å’Œå¹¿æ³›ã€‚æœºå™¨å­¦ä¹ ç®—æ³•ç°åœ¨å¯ä»¥å¤„ç†å¤§é‡æ•°æ®æ¥è¯†åˆ«æ¨¡å¼ï¼Œå¹¶ä»¥æƒŠäººçš„å‡†ç¡®åº¦è¿›è¡Œé¢„æµ‹ã€‚

å¤§å‹è¯­è¨€æ¨¡å‹çš„å‘å±•ç‰¹åˆ«revolutionizedäº†è‡ªç„¶è¯­è¨€å¤„ç†ã€‚è¿™äº›æ¨¡å‹å¯ä»¥ç†è§£ã€ç”Ÿæˆå’Œç¿»è¯‘å¤šç§è¯­è¨€çš„æ–‡æœ¬ï¼Œä¸ºå…¨çƒæ²Ÿé€šä¸åˆä½œå¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§ã€‚

ç„¶è€Œï¼Œäººå·¥æ™ºèƒ½çš„å¿«é€Ÿå‘å±•ä¹Ÿå¼•å‘äº†é‡è¦çš„ä¼¦ç†å’Œç¤¾ä¼šé—®é¢˜ã€‚åœ¨æ¨è¿›äººå·¥æ™ºèƒ½æ•´åˆæ—¶ï¼Œéœ€è¦è°¨æ…å¤„ç†éšç§ã€åè§å’Œå°±ä¸šæ›¿ä»£ç­‰é—®é¢˜ã€‚`,
                lang: "ä¸­æ–‡"
            }
        };
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeLanguageDetector();
            loadSampleArticles();
        });
        
        // è¨€èªæ¤œå‡ºå™¨ã®åˆæœŸåŒ–ï¼ˆAPIã‚­ãƒ¼ä¸è¦ï¼‰
        function initializeLanguageDetector() {
            try {
                languageDetector = new LanguageDetector();
                console.log('Language detector initialized');
            } catch (error) {
                console.error('Failed to initialize language detector:', error);
            }
        }
        
        // Claude APIã®åˆæœŸåŒ–
        function initializeAPI() {
            const apiKey = document.getElementById('api-key').value.trim();
            const statusEl = document.getElementById('api-status');
            
            if (!apiKey) {
                statusEl.textContent = 'âŒ APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
                statusEl.className = 'status error';
                return;
            }
            
            try {
                claudeAPI = new ClaudeAPI(apiKey);
                translationService = new TranslationService(claudeAPI);
                summaryService = new SummaryService(claudeAPI);
                
                statusEl.textContent = 'âœ… Claude API ãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ';
                statusEl.className = 'status success';
                
                console.log('Claude API services initialized');
                
            } catch (error) {
                statusEl.textContent = `âŒ åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`;
                statusEl.className = 'status error';
                console.error('API initialization failed:', error);
            }
        }
        
        // ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã®èª­ã¿è¾¼ã¿
        function loadSampleArticles() {
            const samplesEl = document.getElementById('samples');
            
            Object.entries(sampleArticles).forEach(([key, article]) => {
                const card = document.createElement('div');
                card.className = 'sample-card';
                card.onclick = () => loadSample(article);
                
                card.innerHTML = `
                    <div class="sample-title">${article.title}</div>
                    <div class="sample-lang">${article.lang}</div>
                    <div style="margin-top: 5px; font-size: 12px; color: #888;">
                        ${article.content.substring(0, 100)}...
                    </div>
                `;
                
                samplesEl.appendChild(card);
            });
        }
        
        // ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã®èª­ã¿è¾¼ã¿
        function loadSample(article) {
            document.getElementById('input-title').value = article.title;
            document.getElementById('input-content').value = article.content;
            addResult('info', `ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã€Œ${article.title}ã€ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ`);
        }
        
        // ç¾åœ¨ã®å…¥åŠ›ã‚’å–å¾—
        function getCurrentInput() {
            return {
                title: document.getElementById('input-title').value.trim(),
                content: document.getElementById('input-content').value.trim()
            };
        }
        
        // è¨€èªæ¤œå‡ºãƒ†ã‚¹ãƒˆ
        async function testLanguageDetection() {
            const input = getCurrentInput();
            
            if (!input.content) {
                addResult('error', 'è¨˜äº‹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            if (!languageDetector) {
                addResult('error', 'è¨€èªæ¤œå‡ºå™¨ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            try {
                addResult('info', 'è¨€èªæ¤œå‡ºä¸­...');
                
                const result = await languageDetector.detectLanguage(input.content);
                
                const resultText = `è¨€èªæ¤œå‡ºçµæœ:
è¨€èª: ${result.language}
ä¿¡é ¼åº¦: ${result.confidence.toFixed(3)}
                
è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«: ${input.title}`;
                
                addResult('success', resultText);
                
            } catch (error) {
                addResult('error', `è¨€èªæ¤œå‡ºã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // ç¿»è¨³ãƒ†ã‚¹ãƒˆ
        async function testTranslation() {
            const input = getCurrentInput();
            
            if (!input.content) {
                addResult('error', 'è¨˜äº‹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            if (!translationService) {
                addResult('error', 'Claude APIãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            try {
                addResult('info', 'è¨€èªæ¤œå‡ºä¸­...');
                const langResult = await languageDetector.detectLanguage(input.content);
                
                if (langResult.language === 'ja') {
                    addResult('info', 'æ—¥æœ¬èªè¨˜äº‹ã®ãŸã‚ç¿»è¨³ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™');
                    return;
                }
                
                addResult('info', `ç¿»è¨³ä¸­... (${langResult.language} â†’ ja)`);
                
                // ã‚¿ã‚¤ãƒˆãƒ«ç¿»è¨³
                const titleResult = await translationService.translateText(
                    input.title,
                    langResult.language,
                    'ja',
                    { isTitle: true }
                );
                
                // å†…å®¹ç¿»è¨³ï¼ˆæœ€åˆã®500æ–‡å­—ã®ã¿ï¼‰
                const contentSample = input.content.substring(0, 500);
                const contentResult = await translationService.translateText(
                    contentSample,
                    langResult.language,
                    'ja'
                );
                
                const resultText = `ç¿»è¨³çµæœ:
                
å…ƒã‚¿ã‚¤ãƒˆãƒ«: ${input.title}
ç¿»è¨³ã‚¿ã‚¤ãƒˆãƒ«: ${titleResult.translatedText}

å…ƒå†…å®¹ï¼ˆæŠœç²‹ï¼‰: ${contentSample}

ç¿»è¨³å†…å®¹: ${contentResult.translatedText}`;
                
                addResult('success', resultText);
                
            } catch (error) {
                addResult('error', `ç¿»è¨³ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // è¦ç´„ãƒ†ã‚¹ãƒˆ
        async function testSummarization() {
            const input = getCurrentInput();
            
            if (!input.content) {
                addResult('error', 'è¨˜äº‹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            if (!summaryService) {
                addResult('error', 'Claude APIãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            try {
                addResult('info', 'è¦ç´„ç”Ÿæˆä¸­...');
                
                const summaryResult = await summaryService.generateSummary(input.content, {
                    style: 'structured',
                    maxLength: 300
                });
                
                if (summaryResult.skipped) {
                    addResult('info', `è¦ç´„ã‚¹ã‚­ãƒƒãƒ—: ${summaryResult.reason}`);
                    return;
                }
                
                addResult('info', 'ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡ºä¸­...');
                const keywordsResult = await summaryService.generateKeywords(input.content);
                
                const resultText = `è¦ç´„çµæœ:
                
è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«: ${input.title}
å…ƒæ–‡å­—æ•°: ${input.content.length}æ–‡å­—
è¦ç´„æ–‡å­—æ•°: ${summaryResult.summary.length}æ–‡å­—

è¦ç´„:
${summaryResult.summary}

ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: ${keywordsResult.keywords.join(', ')}`;
                
                addResult('success', resultText);
                
            } catch (error) {
                addResult('error', `è¦ç´„ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ
        async function testFullWorkflow() {
            const input = getCurrentInput();
            
            if (!input.content) {
                addResult('error', 'è¨˜äº‹å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            
            if (!claudeAPI) {
                addResult('error', 'Claude APIãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            try {
                addResult('info', 'çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é–‹å§‹...');
                
                // 1. è¨€èªæ¤œå‡º
                addResult('info', '1. è¨€èªæ¤œå‡ºä¸­...');
                const langResult = await languageDetector.detectLanguage(input.content);
                addResult('info', `   æ¤œå‡ºè¨€èª: ${langResult.language} (ä¿¡é ¼åº¦: ${langResult.confidence.toFixed(3)})`);
                
                let translatedTitle = input.title;
                let translatedContent = input.content;
                
                // 2. ç¿»è¨³ï¼ˆå¿…è¦ãªå ´åˆï¼‰
                if (langResult.language !== 'ja') {
                    addResult('info', '2. ç¿»è¨³ä¸­...');
                    
                    const titleResult = await translationService.translateText(
                        input.title,
                        langResult.language,
                        'ja',
                        { isTitle: true }
                    );
                    
                    const contentResult = await translationService.translateText(
                        input.content.substring(0, 800), // ã‚µãƒ³ãƒ—ãƒ«ç”¨ã«çŸ­ç¸®
                        langResult.language,
                        'ja'
                    );
                    
                    translatedTitle = titleResult.translatedText;
                    translatedContent = contentResult.translatedText;
                    
                    addResult('info', `   ç¿»è¨³å®Œäº†: ${contentResult.translatedText.length}æ–‡å­—`);
                } else {
                    addResult('info', '2. ç¿»è¨³ã‚¹ã‚­ãƒƒãƒ—ï¼ˆæ—¥æœ¬èªè¨˜äº‹ï¼‰');
                }
                
                // 3. è¦ç´„ç”Ÿæˆ
                addResult('info', '3. è¦ç´„ç”Ÿæˆä¸­...');
                const summaryResult = await summaryService.generateSummary(translatedContent, {
                    style: 'structured',
                    maxLength: 250
                });
                
                // æœ€çµ‚çµæœ
                const finalResult = `çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œäº†ï¼

ğŸ“ è¨˜äº‹æƒ…å ±:
ã‚¿ã‚¤ãƒˆãƒ«: ${translatedTitle}
${langResult.language !== 'ja' ? `åŸã‚¿ã‚¤ãƒˆãƒ«: ${input.title}` : ''}
æ¤œå‡ºè¨€èª: ${langResult.language}
ç¿»è¨³æ¸ˆã¿: ${langResult.language !== 'ja' ? 'ã¯ã„' : 'ã„ã„ãˆ'}

ğŸ“„ è¦ç´„:
${summaryResult.skipped ? summaryResult.reason : summaryResult.summary}

å‡¦ç†å®Œäº†æ™‚åˆ»: ${new Date().toLocaleString('ja-JP')}`;
                
                addResult('success', finalResult);
                
            } catch (error) {
                addResult('error', `çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }
        
        // çµæœè¡¨ç¤º
        function addResult(type, text) {
            const resultsEl = document.getElementById('test-results');
            const resultEl = document.createElement('div');
            resultEl.className = `result ${type}`;
            resultEl.textContent = `[${new Date().toLocaleTimeString()}] ${text}`;
            resultsEl.appendChild(resultEl);
            resultsEl.scrollTop = resultsEl.scrollHeight;
        }
        
        // çµæœã‚¯ãƒªã‚¢
        function clearResults() {
            document.getElementById('test-results').innerHTML = '';
        }
    </script>
</body>
</html>
